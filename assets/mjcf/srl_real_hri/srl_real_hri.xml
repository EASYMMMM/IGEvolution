<mujoco model="humanoid">

  <statistic extent="2" center="0.000000 0.000000 1.166667" />

  <option timestep="0.00555" />
  <compiler angle="degree" meshdir="meshes/" />
  <default>
    <motor ctrlrange="-1 1" ctrllimited="true" />
    <default class="body">
      <geom type="capsule" condim="1" friction="1.0 0.05 0.05" solimp=".9 .99 .003" solref=".015 1" />
      <joint type="hinge" damping="0.1" stiffness="5" armature=".007" limited="true" solimplimit="0 .99 .01" />
      <site size="0.046667" group="3" />
      <default class="force-torque">
        <site type="box" size="0.011667 0.011667 0.023333" rgba="1 0 0 1" />
      </default>
      <default class="visual">
        <geom type="mesh" contype="0" conaffinity="0" group="2" material="blue_mat"/>
      </default>
      <default class="touch">
        <site type="capsule" rgba="0 0 1 .3" />
      </default>
      <default class="collision">
        <geom contype="1" conaffinity="1" group="3" material="collision_mat"/>
      </default>
    </default>
  </default>

  <asset>
    <mesh name="base_link" file="base_link.STL"/>
    <mesh name="left_hip_x_link" file="left_hip_x_link.STL"/>
    <mesh name="left_hip_y_link" file="left_hip_y_link.STL"/>
    <mesh name="left_knee_link" file="left_knee_link.STL"/>
    <mesh name="right_hip_x_link" file="right_hip_x_link.STL"/>
    <mesh name="right_hip_y_link" file="right_hip_y_link.STL"/>
    <mesh name="right_knee_link" file="right_knee_link.STL"/>
    
    <material name="blue_mat" rgba="0.86 0.91 1 1"/>
    <material name="white_mat" rgba="1 1 1 1"/>
    <material name="collision_mat" rgba="0.8 0.5 0.3 0.5"/>
  </asset>

  <worldbody>
    <geom name="floor" type="plane" conaffinity="1" size="116.666667 116.666667 0.233333" />
    <body name="pelvis" pos="0.000000 0.000000 1.166667" childclass="body">
      <freejoint name="root" />
      <site name="root" class="force-torque" />
      <geom name="pelvis" type="sphere" pos="0.000000 0.000000 0.081667" size="0.105000" density="2226" />
      <geom name="upper_waist" type="sphere" pos="0.000000 0.000000 0.239167" size="0.081667" density="2226" />
      <site name="pelvis" class="touch" type="sphere" pos="0.000000 0.000000 0.081667" size="0.106167" />
      <site name="upper_waist" class="touch" type="sphere" pos="0.000000 0.000000 0.239167" size="0.082833" />

      <body name="torso" pos="0.000000 0.000000 0.275510">
        <light name="top" pos="0.000000 0.000000 2.333333" mode="trackcom" />
        <camera name="back" pos="-3.500000 0.000000 1.166667" xyaxes="0 -1 0 1 0 2" mode="trackcom" />
        <camera name="side" pos="0.000000 -3.500000 1.166667" xyaxes="1 0 0 0 1 2" mode="trackcom" />
        <joint name="abdomen_x" pos="0.000000 0.000000 0.000000" axis="1 0 0" range="-60 60" stiffness="600" damping="60" armature=".025" />
        <joint name="abdomen_y" pos="0.000000 0.000000 0.000000" axis="0 1 0" range="-60 90" stiffness="600" damping="60" armature=".025" />
        <joint name="abdomen_z" pos="0.000000 0.000000 0.000000" axis="0 0 1" range="-50 50" stiffness="600" damping="60" armature=".025" />
        <geom name="torso" type="sphere" pos="0.000000 0.000000 0.140000" size="0.128333" density="1794" />
        <site name="torso" class="touch" type="sphere" pos="0.000000 0.000000 0.140000" size="0.129500" />

        <geom name="right_clavicle" fromto="-0.007015 -0.053407 0.266928 -0.019641 -0.149540 0.277221" size="0.052500" density="1100" />
        <geom name="left_clavicle" fromto="-0.007015 0.053407 0.266928 -0.019641 0.149540 0.277221" size="0.052500" density="1100" />

        <body name="head" pos="0.000000 0.000000 0.261210">
          <joint name="neck_x" axis="1 0 0" range="-50 50" stiffness="50" damping="5" armature=".017" />
          <joint name="neck_y" axis="0 1 0" range="-40 60" stiffness="50" damping="5" armature=".017" />
          <joint name="neck_z" axis="0 0 1" range="-45 45" stiffness="50" damping="5" armature=".017" />
          <geom name="head" type="sphere" pos="0.000000 0.000000 0.204167" size="0.110833" density="1081" />
          <site name="head" class="touch" pos="0.000000 0.000000 0.204167" type="sphere" size="0.120167" />
          <camera name="egocentric" pos="0.120167 0.000000 0.204167" xyaxes="0 -1 0 .1 0 1" fovy="80" />
        </body>

        <body name="right_upper_arm" pos="-0.028058 -0.213628 0.284083">
          <joint name="right_shoulder_x" axis="1 0 0" range="-180 45" stiffness="200" damping="20" armature=".02" />
          <joint name="right_shoulder_y" axis="0 1 0" range="-180 60" stiffness="200" damping="20" armature=".02" />
          <joint name="right_shoulder_z" axis="0 0 1" range="-90 90" stiffness="200" damping="20" armature=".02" />
          <geom name="right_upper_arm" fromto="0.000000 0.000000 -0.058333 0.000000 0.000000 -0.268333" size="0.052500" density="982" />
          <site name="right_upper_arm" class="touch" pos="0.000000 0.000000 -0.163333" size="0.053667 0.116667" zaxis="0 0 1" />

          <body name="right_lower_arm" pos="0.000000 0.000000 -0.320586">
            <joint name="right_elbow" axis="0 1 0" range="-160 0" stiffness="150" damping="15" armature=".015" />
            <geom name="right_lower_arm" fromto="0.000000 0.000000 -0.061250 0.000000 0.000000 -0.218750" size="0.046667" density="1056" />
            <site name="right_lower_arm" class="touch" pos="0.000000 0.000000 -0.140000" size="0.047833 0.079917" zaxis="0 1 0" />

            <body name="right_hand" pos="0.000000 0.000000 -0.302105">
              <geom name="right_hand" type="sphere" size="0.046667" density="1865" />
              <site name="right_hand" class="touch" type="sphere" size="0.047833" />
            </body>
          </body>
        </body>

        <body name="left_upper_arm" pos="-0.028058 0.213628 0.284083">
          <joint name="left_shoulder_x" axis="1 0 0" range="-45 180" stiffness="200" damping="20" armature=".02" />
          <joint name="left_shoulder_y" axis="0 1 0" range="-180 60" stiffness="200" damping="20" armature=".02" />
          <joint name="left_shoulder_z" axis="0 0 1" range="-90 90" stiffness="200" damping="20" armature=".02" />
          <geom name="left_upper_arm" fromto="0.000000 0.000000 -0.058333 0.000000 0.000000 -0.268333" size="0.052500" density="982" />
          <site name="left_upper_arm" class="touch" pos="0.000000 0.000000 -0.163333" size="0.053667 0.116667" zaxis="0 0 1" />

          <body name="left_lower_arm" pos="0.000000 0.000000 -0.320586">
            <joint name="left_elbow" axis="0 1 0" range="-160 0" stiffness="150" damping="15" armature=".015" />
            <geom name="left_lower_arm" fromto="0.000000 0.000000 -0.061250 0.000000 0.000000 -0.218750" size="0.046667" density="1056" />
            <site name="left_lower_arm" class="touch" pos="0.000000 0.000000 -0.116667" size="0.047833 0.079917" zaxis="0 0 1" />

            <body name="left_hand" pos="0.000000 0.000000 -0.302105">
              <geom name="left_hand" type="sphere" size="0.046667" density="1865" />
              <site name="left_hand" class="touch" type="sphere" size="0.047833" />
            </body>
          </body>
        </body>
      </body>

      <body name="right_thigh" pos="0.000000 -0.099035 0.000000">
        <site name="right_hip" class="force-torque" />
        <joint name="right_hip_x" axis="1 0 0" range="-60 15" stiffness="300" damping="30" armature=".02" />
        <joint name="right_hip_y" axis="0 1 0" range="-140 60" stiffness="300" damping="30" armature=".02" />
        <joint name="right_hip_z" axis="0 0 1" range="-60 35" stiffness="300" damping="30" armature=".02" />
        <geom name="right_thigh" fromto="0.000000 0.000000 -0.070000 0.000000 0.000000 -0.470000" size="0.064167" density="1269" />
        <site name="right_thigh" class="touch" pos="0.000000 0.000000 -0.245000" size="0.065333 0.351167" zaxis="0 0 -1" />

        <body name="right_shin" pos="0.000000 0.000000 -0.541804">
          <site name="right_knee" class="force-torque" pos="0.000000 0.000000 0.000000" />
          <joint name="right_knee" pos="0.000000 0.000000 0.000000" axis="0 1 0" range="0 160" stiffness="300" damping="30" armature=".02" />
          <geom name="right_shin" fromto="0.000000 0.000000 -0.052500 0.000000 0.000000 -0.444167" size="0.058333" density="1014" />
          <site name="right_shin" class="touch" pos="0.000000 0.000000 -0.233333" size="0.059500 0.182000" zaxis="0 0 -1" />

          <body name="right_foot" pos="0.000000 0.000000 -0.508182">
            <site name="right_ankle" class="force-torque" />
            <joint name="right_ankle_x" pos="0.000000 0.000000 0.000000" axis="1 0 0" range="-30 30" stiffness="200" damping="20" armature=".01" />
            <joint name="right_ankle_y" pos="0.000000 0.000000 0.000000" axis="0 1 0" range="-55 55" stiffness="200" damping="20" armature=".01" />
            <joint name="right_ankle_z" pos="0.000000 0.000000 0.000000" axis="0 0 1" range="-40 40" stiffness="200" damping="20" armature=".01" />
            <geom name="right_foot" type="box" pos="0.012500 0.000000 -0.026250" size="0.063250 0.052500 0.032083" density="1141" />
            <geom name="right_toe" type="box" pos="0.052500 0.000000 -0.041250" size="0.103250 0.052500 0.0171" density="1141" />
            <site name="right_foot" class="touch" type="box" pos="0.052500 0.000000 -0.026250" size="0.104417 0.064167 0.033250" />
          </body>
        </body>
      </body>

      <body name="left_thigh" pos="0.000000 0.099035 0.000000">
        <site name="left_hip" class="force-torque" />
        <joint name="left_hip_x" axis="1 0 0" range="-15 60" stiffness="300" damping="30" armature=".02" />
        <joint name="left_hip_y" axis="0 1 0" range="-140 60" stiffness="300" damping="30" armature=".02" />
        <joint name="left_hip_z" axis="0 0 1" range="-35 60" stiffness="300" damping="30" armature=".02" />
        <geom name="left_thigh" fromto="0.000000 0.000000 -0.070000 0.000000 0.000000 -0.470000" size="0.064167" density="1269" />
        <site name="left_thigh" class="touch" pos="0.000000 0.000000 -0.245000" size="0.065333 0.351167" zaxis="0 0 -1" />

        <body name="left_shin" pos="0.000000 0.000000 -0.541804">
          <site name="left_knee" class="force-torque" pos="0.000000 0.000000 0.023333" />
          <joint name="left_knee" pos="0.000000 0.000000 0.000000" axis="0 1 0" range="0 160" stiffness="300" damping="30" armature=".02" />
          <geom name="left_shin" fromto="0.000000 0.000000 -0.052500 0.000000 0.000000 -0.444167" size="0.058333" density="1014" />
          <site name="left_shin" class="touch" pos="0.000000 0.000000 -0.233333" size="0.059500 0.182000" zaxis="0 0 -1" />

          <body name="left_foot" pos="0.000000 0.000000 -0.508182">
            <site name="left_ankle" class="force-torque" />
            <joint name="left_ankle_x" pos="0.000000 0.000000 0.000000" axis="1 0 0" range="-30 30" stiffness="200" damping="20" armature=".01" />
            <joint name="left_ankle_y" pos="0.000000 0.000000 0.000000" axis="0 1 0" range="-55 55" stiffness="200" damping="20" armature=".01" />
            <joint name="left_ankle_z" pos="0.000000 0.000000 0.000000" axis="0 0 1" range="-40 40" stiffness="200" damping="20" armature=".01" />
            <geom name="left_foot" type="box" pos="0.012500 0.000000 -0.026250" size="0.063250 0.052500 0.032083" density="1141" />
            <geom name="left_toe" type="box" pos="0.052500 0.000000 -0.041250" size="0.103250 0.052500 0.0171" density="1141" />
            <site name="left_foot" class="touch" type="box" pos="0.052500 0.000000 -0.026250" size="0.104417 0.064167 0.033250" />
          </body>
        </body>
      </body>

      
			<body name="SRL" pos="-0.15 0 0.05">
				<!-- <joint armature="0.00" axis="1 0 0" damping="4" stiffness="100"  type="slide" name="SRL_damping_x" pos="0 0 0" range="-0.025 0.025" /> -->
        <geom name="board" pos="0 0 0" size="0.0005 0.1 0.1 " type="box" density='100'/> 
        <body name="SRL_root" pos="-0.40 0 -0.10" euler="0 0 0">
          <joint armature="0.00" axis="0 0 1" damping="0" name="SRL_freejoint_z" pos="0.60 0 0" range="-20 20" stiffness="0"/>
          <joint armature="0.00" axis="0 1 0" damping="0" name="SRL_freejoint_y" pos="0.60 0 0" range="-20 20" stiffness="0"/>

          <inertial pos="-0.00060591 -1.445E-17 0.1" mass="10.665" fullinertia="0.163 0.109 0.201 0 0 0"/>
          
          <geom mesh="base_link" class="visual"/>
          <geom type="box" size="0.15 0.05 0.08" pos="0 0 0.1" class="collision"/>

          <!-- ================= LEFT LEG CHAIN ================= -->
          <!-- Left Hip X (Roll) -->
          <!-- Euler converted: 3.1416 rad -> 180 deg -->
          <body name="left_hip_x_link" pos="-0.065 0.2475 0.1" euler="0 0 180">
            <inertial pos="-0.024642 -0.0076065 0" mass="2.832" fullinertia="0.006 0.007 0.007 0.001 0 0"/>
            
            <!-- Range converted: -0.2 rad -> -11.46 deg, 0.65 rad -> 37.24 deg -->
            <joint name="left_hip_x_jonit" axis="-1 0 0" range="-11.46 37.24" damping="30" stiffness="300" armature="0.1"/>
            
            <geom mesh="left_hip_x_link" material="white_mat" class="visual"/>
            <geom type="capsule" size="0.05" fromto="-0.05 0 0 0.05 0 0" class="collision"/>

            <!-- Left Hip Y (Pitch - Thigh) -->
            <!-- URDF: 0.0725 -0.075 0 -->
            <body name="left_hip_y_link" pos="0.0725 -0.075 0">
              <inertial pos="0.030377 -0.029787 -0.083461" mass="6.144" fullinertia="0.145 0.144 0.043 0.008 0.043 -0.022"/>
              
              <!-- Range converted: +/- 1.05 rad -> +/- 60.16 deg -->
              <joint name="left_hip_y_jonit" axis="0 1 0" range="-60.16 60.16" damping="25" stiffness="250" armature="0.1"/>
              
              <geom mesh="left_hip_y_link" material="white_mat" class="visual"/>
              <!-- 碰撞体：从HipY原点指向Knee连接点 (0.237, -0.104, -0.65) -->
              <geom type="capsule" size="0.06" fromto="0 0 0 0.237 -0.104 -0.65" class="collision"/>

              <!-- Left Knee (Pitch - Shank) -->
              <!-- URDF: 0.23761 -0.1045 -0.65284, RPY 0.698 0 1.57 -->
              <!-- 使用四元数消除旋转歧义: Roll=40deg, Yaw=90deg -->
              <body name="left_knee_link" pos="0.23761 -0.1045 -0.65284" quat="0.66446 0.24184 0.24184 0.66446">
                <inertial pos="-1.16e-7 8.95e-8 -0.312" mass="0.697" fullinertia="0.039 0.039 0.00024 0 0 0"/>
                
                <!-- Range converted: +/- 1.05 rad -> +/- 60.16 deg -->
                <joint name="left_knee_jonit" axis="1 0 0" range="-60.16 60.16" damping="40" stiffness="350" armature="0.1"/>
                
                <geom mesh="left_knee_link" class="visual"/>
                <!-- 碰撞体：小腿约长 0.6m -->
                <geom type="capsule" size="0.04" fromto="0 0 0 0 0 -0.6" class="collision"/>
                
                <!-- 脚底接触球 -->
                <body name="SRL_left_end" pos="0 0 -0.645">
                    <inertial pos="0 0 0" mass="0.06" diaginertia="0.0001 0.0001 0.0001"/>
                    <geom name="SRL_left_end_contact" type="sphere" size="0.038" 
                          friction="0.9 0.01 0.005" 
                          contype="1" conaffinity="1" 
                          rgba="0.9 0.1 0.1 1"/>
                    <site name="SRL_left_end_touch" size="0.05" rgba="0 1 0 0.2"/>
                </body>

              </body>
            </body>
          </body>

          <!-- ================= RIGHT LEG CHAIN ================= -->
          <!-- Right Hip X -->
          <!-- URDF: -0.065 -0.2475 0.1, RPY 0 0 3.1416 -->
          <!-- Euler converted: 3.1416 rad -> 180 deg -->
          <body name="right_hip_x_link" pos="-0.065 -0.2475 0.1" euler="0 0 180">
            <inertial pos="-0.024642 0.0076065 0" mass="2.832" fullinertia="0.006 0.007 0.007 -0.001 0 0"/>
            
            <!-- Range converted: -0.2 rad -> -11.46 deg, 0.65 rad -> 37.24 deg -->
            <joint name="right_hip_x_jonit" axis="1 0 0" range="-11.46 37.24" damping="30" stiffness="300" armature="0.1"/>
            
            <geom mesh="right_hip_x_link" material="white_mat" class="visual"/>
            <geom type="capsule" size="0.05" fromto="-0.05 0 0 0.05 0 0" class="collision"/>

            <!-- Right Hip Y -->
            <!-- URDF: 0.0725 0.075 0 -->
            <body name="right_hip_y_link" pos="0.0725 0.075 0">
              <inertial pos="0.030377 0.029786 -0.083461" mass="6.144" fullinertia="0.145 0.144 0.043 -0.008 0.043 0.022"/>
              
              <!-- Range converted: +/- 1.05 rad -> +/- 60.16 deg -->
              <joint name="right_hip_y_jonit" axis="0 1 0" range="-60.16 60.16" damping="25" stiffness="250" armature="0.1"/>
              
              <geom mesh="right_hip_y_link" material="white_mat" class="visual"/>
              <!-- 碰撞体：指向右腿膝盖位置 (0.237, 0.104, -0.65) -->
              <geom type="capsule" size="0.06" fromto="0 0 0 0.237 0.104 -0.65" class="collision"/>

              <!-- Right Knee -->
              <!-- URDF: 0.23761 0.1045 -0.65284 -->
              <body name="right_knee_link" pos="0.23761 0.1045 -0.65284" quat="0.66446 0.24184 0.24184 0.66446">
                <inertial pos="-1.16e-7 8.92e-8 -0.312" mass="0.697" fullinertia="0.039 0.039 0.00024 0 0 0"/>
                
                <!-- Range converted: +/- 1.05 rad -> +/- 60.16 deg -->
                <joint name="right_knee_jonit" axis="1 0 0" range="-60.16 60.16" damping="40" stiffness="350" armature="0.1"/>
                
                <geom mesh="right_knee_link" class="visual"/>
                <geom type="capsule" size="0.04" fromto="0 0 0 0 0 -0.6" class="collision"/>
                
                <!-- 脚底接触球 -->
                <body name="SRL_right_end" pos="0 0 -0.645">
                    <inertial pos="0 0 0" mass="0.06" diaginertia="0.0001 0.0001 0.0001"/>
                    <geom name="SRL_right_end_contact" type="sphere" size="0.038" 
                          friction="0.9 0.01 0.005" 
                          contype="1" conaffinity="1" 
                          rgba="0.9 0.1 0.1 1"/>
                    <site name="SRL_right_end_touch" size="0.05" rgba="0 1 0 0.2"/>
                </body>

              </body>
            </body>
          </body>

        </body>
			</body>

    </body>
  </worldbody>

  <actuator>
    <motor name="abdomen_x" gear="231.5779" joint="abdomen_x" />
    <motor name="abdomen_y" gear="231.5779" joint="abdomen_y" />
    <motor name="abdomen_z" gear="231.5779" joint="abdomen_z" />
    <motor name="neck_x" gear="37.0525" joint="neck_x" />
    <motor name="neck_y" gear="37.0525" joint="neck_y" />
    <motor name="neck_z" gear="37.0525" joint="neck_z" />
    <motor name="right_shoulder_x" gear="129.6836" joint="right_shoulder_x" />
    <motor name="right_shoulder_y" gear="129.6836" joint="right_shoulder_y" />
    <motor name="right_shoulder_z" gear="129.6836" joint="right_shoulder_z" />
    <motor name="right_elbow" gear="111.1574" joint="right_elbow" />
    <motor name="left_shoulder_x" gear="129.6836" joint="left_shoulder_x" />
    <motor name="left_shoulder_y" gear="129.6836" joint="left_shoulder_y" />
    <motor name="left_shoulder_z" gear="129.6836" joint="left_shoulder_z" />
    <motor name="left_elbow" gear="111.1574" joint="left_elbow" />
    <motor name="right_hip_x" gear="231.5779" joint="right_hip_x" />
    <motor name="right_hip_z" gear="231.5779" joint="right_hip_z" />
    <motor name="right_hip_y" gear="231.5779" joint="right_hip_y" />
    <motor name="right_knee" gear="185.2623" joint="right_knee" />
    <motor name="right_ankle_x" gear="92.6312" joint="right_ankle_x" />
    <motor name="right_ankle_y" gear="92.6312" joint="right_ankle_y" />
    <motor name="right_ankle_z" gear="92.6312" joint="right_ankle_z" />
    <motor name="left_hip_x" gear="231.5779" joint="left_hip_x" />
    <motor name="left_hip_z" gear="231.5779" joint="left_hip_z" />
    <motor name="left_hip_y" gear="231.5779" joint="left_hip_y" />
    <motor name="left_knee" gear="185.2623" joint="left_knee" />
    <motor name="left_ankle_x" gear="92.6312" joint="left_ankle_x" />
    <motor name="left_ankle_y" gear="92.6312" joint="left_ankle_y" />
    <motor name="left_ankle_z" gear="92.6312" joint="left_ankle_z" />
  </actuator>

  <sensor>
    <subtreelinvel name="pelvis_subtreelinvel" body="pelvis" />
    <accelerometer name="root_accel" site="root" />
    <velocimeter name="root_vel" site="root" />
    <gyro name="root_gyro" site="root" />

    <force name="left_ankle_force" site="left_ankle" />
    <force name="right_ankle_force" site="right_ankle" />
    <force name="left_knee_force" site="left_knee" />
    <force name="right_knee_force" site="right_knee" />
    <force name="left_hip_force" site="left_hip" />
    <force name="right_hip_force" site="right_hip" />

    <torque name="left_ankle_torque" site="left_ankle" />
    <torque name="right_ankle_torque" site="right_ankle" />
    <torque name="left_knee_torque" site="left_knee" />
    <torque name="right_knee_torque" site="right_knee" />
    <torque name="left_hip_torque" site="left_hip" />
    <torque name="right_hip_torque" site="right_hip" />

    <touch name="pelvis_touch" site="pelvis" />
    <touch name="upper_waist_touch" site="upper_waist" />
    <touch name="torso_touch" site="torso" />
    <touch name="head_touch" site="head" />
    <touch name="right_upper_arm_touch" site="right_upper_arm" />
    <touch name="right_lower_arm_touch" site="right_lower_arm" />
    <touch name="right_hand_touch" site="right_hand" />
    <touch name="left_upper_arm_touch" site="left_upper_arm" />
    <touch name="left_lower_arm_touch" site="left_lower_arm" />
    <touch name="left_hand_touch" site="left_hand" />
    <touch name="right_thigh_touch" site="right_thigh" />
    <touch name="right_shin_touch" site="right_shin" />
    <touch name="right_foot_touch" site="right_foot" />
    <touch name="left_thigh_touch" site="left_thigh" />
    <touch name="left_shin_touch" site="left_shin" />
    <touch name="left_foot_touch" site="left_foot" />
  </sensor>

</mujoco>